<div #dropdownElement class="ng-dropdown" (clickOutside)="closeDropdown()">
  <button  type="button" class="ng-dropdown-toggle" (click)="toggleDropdown(dropdownElement)" [disabled]="dataStateService.disabled">
    <ng-container *ngIf="config.multiSelectable">
      <ng-container *ngIf="!showAllSelectedOptionLabels">
         <span class="ng-dropdown-selected-value" *ngFor="let option of dataStateService.selectedOptions"
               [style.max-width]="config.multiSelectOptionMaxWidth | px"
               [class.ng-dropdown-option-close-enabled]="config.showSelectedOptionRemoveButton">
          {{ config.getDisplayText(option) }}
           <i class="zmdi zmdi-close" *ngIf="config.showSelectedOptionRemoveButton"
              (click)="onSelectOptionRemove($event, option)"></i>
        </span>
      </ng-container>
      <span *ngIf="showAllSelectedOptionLabels">
        {{ selectedItemsMessage }}
      </span>
      <span *ngIf="!dataStateService.selectedOptions.length">
        {{ config.translations.selectPlaceholder }}
      </span>
    </ng-container>
    <ng-container *ngIf="!config.multiSelectable">
      <span class="ng-dropdown-selected-item" *ngIf="dataStateService.selectedOption">
        {{ config.getDisplayText(dataStateService.selectedOption) }}
      </span>
      <span *ngIf="!dataStateService.selectedOption">
        {{ config.translations.selectPlaceholder }}
      </span>
    </ng-container>
    <span class="ng-dropdown-input-group-btn" [hidden]="!hasSelectedItems" *ngIf="config.showClearSelectionButton">
      <button class="ng-dropdown-delete-button" type="button" (click)="clearSelectedOptions()">
        <i class="zmdi zmdi-close"></i>
      </button>
    </span>
    <span class="ng-dropdown-down-arrow" *ngIf="!dataStateService.dataLoading">
      <i class="zmdi zmdi-chevron-down"></i>
    </span>
    <span class="ng-dropdown-loading" *ngIf="dataStateService.dataLoading" >
      <i class="zmdi zmdi-spinner"></i>
    </span>
  </button>
</div>
